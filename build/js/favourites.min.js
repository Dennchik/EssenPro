(()=>{"use strict";!function(){var t=document.querySelectorAll("[data-quantity]"),e=document.querySelectorAll(".product-price");function r(){var t=0;e.forEach((function(e){var r=document.querySelector(".input-total"),c=(parseFloat(e.textContent.replace(/ /g,"").replace(",","."))||0)*(parseFloat(e.closest(".product-cart").querySelector("input").value)||0);t+=c,e.closest(".product-cart").querySelector(".product-cart__quantity-price").textContent=c.toLocaleString("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}),r.innerHTML="Итого: "+t.toLocaleString()+'<i class="icon-rub"></i>'}))}t&&t.forEach((function(t){var e=t.querySelector("input"),c=t.querySelector(".quantity-remove");"0"===e.value&&c.classList.add("_disabled"),t.addEventListener("click",(function(t){var e=t.target;if(e.closest(".quantity__button")){var c=e.closest(".quantity").querySelector("input"),a=parseInt(c.value)||0;e.classList.contains("quantity-add")?a++:a--,a<=0?(a=0,function(t){t.closest(".quantity").querySelector(".quantity-remove").classList.add("_disabled")}(c)):function(t){t.closest(".quantity").querySelector(".quantity-remove").classList.remove("_disabled")}(c),c.value=a,r()}})),e.addEventListener("input",(function(t){this.value=this.value.replace(/[^0-9.]/g,"")}))})),r()}()})();